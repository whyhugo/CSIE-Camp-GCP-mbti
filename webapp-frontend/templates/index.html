<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>Step 1: 基礎部署測試</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container my-5 text-center">
        <h1>第一步：基礎部署</h1>
        <p>點擊按鈕，測試與後端的連線。</p>
        <button id="test-btn" class="btn btn-primary">測試連線</button>
        <div id="result-area" class="alert alert-info mt-4" style="display: none;"></div>
    </div>
    <script>
        document.getElementById('test-btn').addEventListener('click', async () => {
            const resultArea = document.getElementById('result-area');
            resultArea.style.display = 'block';
            resultArea.textContent = '正在連接後端...';

            try {
                // 注意：這裡使用 POST 是為了與後續步驟保持一致
                const response = await fetch('/analyze', { method: 'POST' });
                const data = await response.json();
                resultArea.textContent = `來自後端的回應： ${data.message}`;
            } catch (error) {
                resultArea.textContent = `連接失敗：${error}`;
                resultArea.className = 'alert alert-danger mt-4';
            }
        });
    </script>
</body>
</html>